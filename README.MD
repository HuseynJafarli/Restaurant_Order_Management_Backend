# RombApp Backend

This is a **Gradle-based** Spring Boot backend for the **RombApp**, a restaurant management system. The project includes features for managing orders, menu items, restaurant tables, and staff users, with role-based JWT authentication.

## ğŸ’ª Tech Stack

* **Spring Boot** 3.x
* **Gradle**
* **Java 17**
* **PostgreSQL**
* **RabbitMQ** (for async messaging)
* **Spring Security** with JWT
* **JUnit & MockMvc** for testing

---

## ğŸ“ Project Structure

```
src
â”œâ”€â”€ main
â”‚   â”œâ”€â”€ java
â”‚   â”‚   â””â”€â”€ com
â”‚   â”‚       â””â”€â”€ romb
â”‚   â”‚           â””â”€â”€ rombApp
â”‚   â”‚               â”œâ”€â”€ config
â”‚   â”‚               â”œâ”€â”€ controller
â”‚   â”‚               â”œâ”€â”€ dto
â”‚   â”‚               â”œâ”€â”€ exception
â”‚   â”‚               â”œâ”€â”€ messaging
â”‚   â”‚               â”œâ”€â”€ model
â”‚   â”‚               â”œâ”€â”€ repository
â”‚   â”‚               â”œâ”€â”€ service
â”‚   â”‚               â””â”€â”€ RombAppApplication.java
â”‚   â””â”€â”€ resources
â”‚       â””â”€â”€ application.properties
â””â”€â”€ test
    â””â”€â”€ java
        â””â”€â”€ com
            â””â”€â”€ romb
                â””â”€â”€ rombApp
```

---

## â–¶ï¸ How to Run

### Prerequisites

* Java 17
* Gradle
* PostgreSQL running on `localhost:5432`
* RabbitMQ running on `localhost:5672`

### 1. Configure Database

Update the `application.yml` with your local PostgreSQL credentials:

```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/rombdb
    username: your_username
    password: your_password
```

### 2. Run RabbitMQ

You can use Docker:

```bash
docker run -d --hostname rmq --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3-management
```

### 3. Start the App

```bash
gradle bootRun
```

### 4. Access H2 Console (for test)

Available at `http://localhost:8080/h2-console`

Make sure H2 access is permitted in security config:

```java
.authorizeHttpRequests(auth -> auth.requestMatchers("/h2-console/**").permitAll())
.csrf(AbstractHttpConfigurer::disable)
.headers(headers -> headers.frameOptions().disable())
```

---

## ğŸ” Authentication

* Uses JWT Bearer tokens
* Role-based access: `MANAGER`, `WAITER`, `KITCHEN`
* Endpoints:

  * `/api/auth/register`
  * `/api/auth/login`

Example login response:

```json
{
  "token": "eyJhbGci..."
}
```

Use this token in requests:

```
Authorization: Bearer <token>
```

---

## âœ… Running Tests

```bash
gradle test
```

---

## ğŸ§‘â€ğŸ’» Contributing

Pull requests welcome. For major changes, open an issue first.

---

## ğŸ“ License

[MIT](LICENSE)
